<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="generator" content="MarkBind 4.0.1">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Gradle tutorial</title>
    <link rel="stylesheet" href="../markbind/css/bootstrap.min.css">
    <link rel="stylesheet" href="../markbind/fontawesome/css/all.min.css">
    <link rel="stylesheet" href="../markbind/glyphicons/css/bootstrap-glyphicons.min.css">
    <link rel="stylesheet" href="../markbind/css/octicons.css">
    <link rel="stylesheet" href="../markbind/material-icons/material-icons.css">
    <link rel="stylesheet" href="../markbind/css/codeblock-light.min.css"><link rel="stylesheet" href="../markbind/css/markbind.min.css"><script src="../markbind/js/polyfill.min.js"></script>
    <script src="../markbind/js/vue.min.js"></script>
    <script src="../markbind/js/markbind.min.js"></script>
    <script src="gradle.page-vue-render.js"></script>
    <script src="../markbind/js/jquery.min.js"></script><link rel="stylesheet" href="/guides/plugins/markbind-plugin-anchors/markbind-plugin-anchors.css"><link rel="stylesheet" href="/guides/plugins/markbind-plugin-tree/markbind-plugin-tree.css">
    
  <link rel="stylesheet" href="/guides/css/main.css">
<link rel="icon" href="/guides/favicon.ico"></head>
<script>
  const baseUrl = '/guides'
</script>
<body  data-bs-spy="scroll" data-bs-target="#mb-page-nav" data-bs-offset="100" >
<div id="app" data-server-rendered="true"><header sticky=""><div data-v-15113a2f><nav class="navbar navbar-expand-md d-print-none navbar-dark bg-dark" data-v-15113a2f><div class="container-fluid" data-v-15113a2f><div class="navbar-left" data-v-15113a2f><a href="https://se-education.org" title="SE-EDU" class="navbar-brand" data-v-15113a2f><span data-v-15113a2f><span aria-hidden="true" class="fas fa-chevron-circle-left" data-v-15113a2f></span> <strong data-v-15113a2f><strong data-v-15113a2f>SE-EDU</strong></strong></span></a></div> <div class="navbar-default" data-v-15113a2f><ul class="navbar-nav me-auto mt-2 mt-lg-0" data-v-15113a2f> <li data-v-15113a2f><a href="/guides/index.html" class="nav-link" data-v-15113a2f><span data-v-15113a2f><strong data-v-15113a2f>Home</strong></span></a></li> <li data-v-15113a2f><a href="/guides/about.html" class="nav-link" data-v-15113a2f><span data-v-15113a2f><strong data-v-15113a2f>About</strong></span></a></li> <li data-v-15113a2f><a href="https://github.com/se-edu/guides" class="nav-link" data-v-15113a2f><span data-v-15113a2f><span aria-hidden="true" class="fab fa-github" data-v-15113a2f></span></span></a></li></ul></div> <ul class="navbar-nav navbar-right" data-v-15113a2f><li class="nav-link" data-v-15113a2f><form class="navbar-form" data-v-15113a2f><div class="dropdown" style="position:relative;" data-v-2955e59c><input data-bs-toggle="dropdown" type="text" placeholder="Search this site" autocomplete="off" value="" class="form-control" data-v-2955e59c> <div class="form-control placeholder-div-hidden" data-v-2955e59c>
      Search this site
    </div> <ul class="dropdown-menu search-dropdown-menu d-none dropdown-menu-end" data-v-2955e59c></ul></div></form></li></ul></div></nav> <div class="lower-navbar-container" style="display:none;" data-v-15113a2f><!----> <!----></div></div></header> <div id="flex-body"><div id="content-wrapper" class="fixed-header-padding"><h1 id="guides-for-se-student-projects"><span id="guides-for-se-student-projects" class="anchor"></span><span class="text-dark"><strong><strong>Guides for SE student projects »</strong></strong></span><a href="#guides-for-se-student-projects" onclick="event.stopPropagation()" class="fa fa-anchor"></a></h1> <p></p><h1 id="gradle-tutorial"><span id="gradle-tutorial" class="anchor"></span>Gradle tutorial<a href="#gradle-tutorial" onclick="event.stopPropagation()" class="fa fa-anchor"></a></h1> <p>Gradle is a <em>build automation tool</em> used to automate build processes. There are many ways of integrating Gradle into a project. This tutorial uses the <em>Gradle wrapper</em> approach.</p> <h2 id="basics"><span id="basics" class="anchor"></span>Basics<a href="#basics" onclick="event.stopPropagation()" class="fa fa-anchor"></a></h2> <p>You use a <em>build file</em> (named <code class="hljs inline no-lang">build.gradle</code>) to describe the project to Gradle. A build file mainly consists of <em>plugins</em>, <em>tasks</em> and <em>properties</em>.</p> <ul><li><p><strong>Plugins</strong> extend the functionality of Gradle. For example, the <code class="hljs inline no-lang">java</code> plugin adds support for <code class="hljs inline no-lang">Java</code> projects.</p></li> <li><p><strong>Tasks</strong> are reusable blocks of logic. For example, the task <code class="hljs inline no-lang">clean</code> simply deletes the project build directory.
Tasks can be composed of, or dependent on, other tasks.</p></li> <li><p><strong>Properties</strong> change the behavior of tasks. For instance, <code class="hljs inline no-lang">mainClassName</code> of the <code class="hljs inline no-lang">application</code> plugin is a compulsory property which tells Gradle which class is the entry point to your application. As Gradle favors <a href="https://en.wikipedia.org/wiki/Convention_over_configuration"><em>convention over configuration</em></a>, there is not much to you need to configure if you follow the recommended directory structure.</p></li></ul> <h2 id="gradle-within-intellij-an-overview"><span id="gradle-within-intellij-an-overview" class="anchor"></span>Gradle within Intellij: an overview<a href="#gradle-within-intellij-an-overview" onclick="event.stopPropagation()" class="fa fa-anchor"></a></h2> <p>The following video (from the Intellij team) gives a quick overview of various ways Gradle can be used within Intellij.
A quick watch of it may be useful before diving into specific use cases explained in the subsequent sections in this page.</p> <div class="block-embed block-embed-service-youtube" style="position:relative;padding-bottom:60.9375%;"><iframe type="text/html" src="//www.youtube.com/embed/6V6G3RyxEMk" frameborder="0" webkitallowfullscreen="" mozallowfullscreen="" allowfullscreen="allowfullscreen"></iframe></div> <p></p> <h2 id="adding-gradle-to-the-project"><span id="adding-gradle-to-the-project" class="anchor"></span>Adding Gradle to the project<a href="#adding-gradle-to-the-project" onclick="event.stopPropagation()" class="fa fa-anchor"></a></h2> <p><strong><strong>Scenario 1:</strong></strong> You are setting up a project in Intellij IDEA. The project already has Gradle support.</p> <div class="ml-3"><p><span class="badge rounded-pill bg-warning"><span aria-hidden="true" class="fas fa-lightbulb"></span></span> If the project comes with Gradle support, you will see a <code class="hljs inline no-lang">build.gradle</code> file in your project root.</p></div> <ol><li>Open Intellij (if you are not in the welcome screen, click <code class="hljs inline no-lang">File</code> &gt; <code class="hljs inline no-lang">Close Project</code> to close the existing project first)</li> <li>Open the project into Intellij as follows:
<ol><li>Click <code class="hljs inline no-lang">Open</code>.</li> <li>Select the project directory, and click <code class="hljs inline no-lang">OK</code>.</li> <li>If there are any further prompts, accept the defaults.</li></ol></li> <li>After the importing of the project is complete, you will see the <code class="hljs inline no-lang">Gradle Toolbar</code> in the IDEA interface <span class="dimmed">e.g., look for the elephant icon (on Windows, this appears on the right-edge of the IDE window) and click it</span>.<br> <a href="/guides/tutorials/images/gradle/GradleIcon.png" target="_self"><img src="/guides/tutorials/images/gradle/GradleIcon.png" alt="" class="img-fluid"></a></li></ol> <p><strong><strong>Scenario 2:</strong></strong> You are adding Gradle support to an ongoing project that is already set up in Intellij IDEA. Gradle wrapper files have been provided.</p> <ol><li>Add the Gradle wrapper files to the project. e.g., if they are in a separate branch, merge that branch.</li> <li>Close the IDEA project if it is open.</li> <li>Delete the <code class="hljs inline no-lang">.idea</code> folder.</li> <li>Open/import the project again, as explained in scenario 1 above.</li></ol> <p><strong><strong>Scenario 3:</strong></strong> You are adding Gradle support to an ongoing project from scratch.</p> <ul><li><a href="https://docs.gradle.org/current/userguide/gradle_wrapper.html">This</a> is a good place to start.</li></ul> <h2 id="using-gradle-in-intellij-idea"><span id="using-gradle-in-intellij-idea" class="anchor"></span>Using Gradle in Intellij IDEA<a href="#using-gradle-in-intellij-idea" onclick="event.stopPropagation()" class="fa fa-anchor"></a></h2> <p>If the Gradle tasks don't appear in the Gradle window, click the 'refresh' button in the toolbar to reimport the Gradle project.</p> <p>Intellij uses Gradle to run your application by default. If you would like to run the project in the normal way, go to <code class="hljs inline no-lang">File</code> &gt; <code class="hljs inline no-lang">Settings</code> and change the following settings:<br> <a href="/guides/tutorials/images/gradle/intellijRunUsingGradle.png" target="_self"><img src="/guides/tutorials/images/gradle/intellijRunUsingGradle.png" alt="" class="img-fluid"></a></p> <h2 id="running-gradle-tasks"><span id="running-gradle-tasks" class="anchor"></span>Running Gradle Tasks<a href="#running-gradle-tasks" onclick="event.stopPropagation()" class="fa fa-anchor"></a></h2> <p>To run a task, locate the task in the Gradle toolbar, right-click on a task, and choose <code class="hljs inline no-lang">run</code>.</p> <p>Alternatively, you can type the command in the terminal.</p> <ul><li>On Windows: <code class="hljs inline no-lang">gradlew &lt;task1&gt; &lt;task2&gt; …</code>​ e.g. <code class="hljs inline no-lang">gradlew clean test</code></li> <li>On Mac/Linux: <code class="hljs inline no-lang">./gradlew &lt;task1&gt; &lt;task2&gt; …</code>​ e.g. <code class="hljs inline no-lang">./gradlew clean test</code></li></ul> <h2 id="adding-plugins"><span id="adding-plugins" class="anchor"></span>Adding plugins<a href="#adding-plugins" onclick="event.stopPropagation()" class="fa fa-anchor"></a></h2> <p>Gradle plugins are reusable units of build logic. Most common build tasks are bundled into core plugins provided by Gradle. Java, Checkstyle, and Shadow are three of plugins commonly used in Java projects.
The relevant lines of the <code class="hljs inline no-lang">build.gradle</code> are given below:</p> <div class="code-block"><div class="code-block-heading"><span>build.gradle</span></div><div class="code-block-content"><pre><code heading="build.gradle" class="hljs groovy"><span>plugins {
</span><span>    <span class="highlighted">id <span class="hljs-string">'java'</span></span>
</span><span>    <span class="highlighted">id <span class="hljs-string">'application'</span></span>
</span><span>    <span class="highlighted">id <span class="hljs-string">'checkstyle'</span></span>
</span><span>    <span class="highlighted">id <span class="hljs-string">'com.github.johnrengelman.shadow'</span> version <span class="hljs-string">'5.1.0'</span></span>
</span><span>}
</span></code></pre></div></div> <h2 id="using-gradle-to-do-some-common-project-activities"><span id="using-gradle-to-do-some-common-project-activities" class="anchor"></span>Using Gradle to do some common project activities<a href="#using-gradle-to-do-some-common-project-activities" onclick="event.stopPropagation()" class="fa fa-anchor"></a></h2> <h3 id="cleaning-the-project"><span id="cleaning-the-project" class="anchor"></span>Cleaning the project<a href="#cleaning-the-project" onclick="event.stopPropagation()" class="fa fa-anchor"></a></h3> <ul><li><strong><code class="hljs inline no-lang">clean</code></strong>: Deletes the files created during the previous build tasks (e.g. files in the <code class="hljs inline no-lang">build</code> folder).<br>
e.g. <code class="hljs inline no-lang">./gradlew clean</code></li></ul> <div class="alert box-container alert-default" data-v-7d17494f><!----> <div class="header-and-body" data-v-7d17494f><!----> <div class="box-body-wrapper" data-v-7d17494f><!----> <!----> <div class="contents" data-v-7d17494f><p data-v-7d17494f><span class="badge rounded-pill bg-warning" data-v-7d17494f><span aria-hidden="true" class="fas fa-lightbulb" data-v-7d17494f></span></span> <strong data-v-7d17494f>You can use <code class="hljs inline no-lang" data-v-7d17494f>clean</code> to prevent Gradle from skipping tasks</strong>: When running a Gradle task, Gradle will try to figure out if the task needs running at all. If Gradle determines that the output of the task will be same as the previous time, it will not run the task. For example, it will not build the JAR file again if the relevant source files have not changed since the last time the JAR file was built. If you want to force Gradle to run a task, you can combine that task with <code class="hljs inline no-lang" data-v-7d17494f>clean</code> (e.g., <code class="hljs inline no-lang" data-v-7d17494f>./gradlew clean shadowJar</code>). Once the build files have been <code class="hljs inline no-lang" data-v-7d17494f>clean</code> ed, Gradle has no way to determine if the output will be same as before, and it will have no choice but to execute the task.</p></div> <!----></div></div></div> <h3 id="running-checkstyle"><span id="running-checkstyle" class="anchor"></span>Running Checkstyle<a href="#running-checkstyle" onclick="event.stopPropagation()" class="fa fa-anchor"></a></h3> <p><code class="hljs inline no-lang">gradlew checkstyleMain checkstyleTest</code>: runs main code and test code complies with the Checkstyle rules. <br></p> <p><strong>Resources</strong>:</p> <ul><li><a href="/guides/tutorials/checkstyle.html">Checkstyle Tutorial</a></li> <li><a href="https://docs.gradle.org/current/userguide/checkstyle_plugin.html">Gradle documentation for the Checkstyle plugin</a></li></ul> <h3 id="running-tests"><span id="running-tests" class="anchor"></span>Running tests<a href="#running-tests" onclick="event.stopPropagation()" class="fa fa-anchor"></a></h3> <p>Run the <code class="hljs inline no-lang">test</code> task to run the tests in the project.</p> <p><strong>Resources</strong>:</p> <ul><li><a href="https://docs.gradle.org/current/userguide/java_testing.html#using_junit5">Gradle documentation for JUnit</a></li></ul> <h3 id="creating-jar-files"><span id="creating-jar-files" class="anchor"></span>Creating JAR files<a href="#creating-jar-files" onclick="event.stopPropagation()" class="fa fa-anchor"></a></h3> <span id="section-creating-jar-files"><p><a href="https://github.com/johnrengelman/shadow">Shadow</a> is a plugin that packages an application into an executable <em>fat</em> jar file <em>if the current file is outdated</em>.</p> <div class="indented-level2"><span minimized="" class="card-container" data-v-5681bde8><!----> <span class="morph" data-v-5681bde8><button class="morph-display-wrapper btn btn-outline-secondary" data-v-5681bde8><div class="minimal-caret-wrapper" data-v-5681bde8><span class="glyphicon glyphicon-chevron-right" data-v-5681bde8></span></div> <span class="card-title" data-v-5681bde8><p data-v-5681bde8><span data-v-5681bde8><span aria-hidden="true" class="glyphicon glyphicon-log-in" data-v-5681bde8></span></span> Tutorials → Working with JAR files → <strong data-v-5681bde8>Fat JAR files</strong></p></span></button></span></span></div> <p></p> <p>The task <strong><code class="hljs inline no-lang">shadowJar</code></strong> (e.g., running the command <code class="hljs inline no-lang">gradlew shadowJar</code> or <code class="hljs inline no-lang">gradlew clean shadowJar</code>) creates the JAR file in the <code class="hljs inline no-lang">build/libs</code> folder. By default, it produces a jar file with the name in the format of <code class="hljs inline no-lang">{archiveBaseName}-{archiveVersion}.jar</code> and put it in the <code class="hljs inline no-lang">builds/libs</code> folder. These properties can be set in the <code class="hljs inline no-lang">build.gradle</code> file.</p> <p><span><span aria-hidden="true" class="fas fa-info-circle"></span></span> Ensure your <code class="hljs inline no-lang">build.gradle</code> file contains the correct values w.r.t. the Shadow plugin e.g., <code class="hljs inline no-lang">mainClassName</code></p> <p><span><span aria-hidden="true" class="fas fa-info-circle"></span></span> If you are using JavaFX, see the panel below to find what else you need to add to the <code class="hljs inline no-lang">build.gradle</code> to pack JavaFX libraries into the generated JAR file.</p> <div class="indented-level2"><span minimized="" class="card-container" data-v-5681bde8><!----> <span class="morph" data-v-5681bde8><button class="morph-display-wrapper btn btn-outline-secondary" data-v-5681bde8><div class="minimal-caret-wrapper" data-v-5681bde8><span class="glyphicon glyphicon-chevron-right" data-v-5681bde8></span></div> <span class="card-title" data-v-5681bde8><p data-v-5681bde8><span data-v-5681bde8><span aria-hidden="true" class="glyphicon glyphicon-log-in" data-v-5681bde8></span></span> Tutorials → JavaFX Tutorial Part 1 → If you are using Gradle</p></span></button></span></span></div> <p></p> <p><strong>Resources</strong>:</p> <ul><li><a href="https://plugins.gradle.org/plugin/com.github.johnrengelman.shadow">Gradle documentation for the Shadow plugin</a></li> <li><a href="https://imperceptiblethoughts.com/shadow/introduction/">More about the Shadow plugin</a></li></ul></span> <h3 id="compiling"><span id="compiling" class="anchor"></span>Compiling<a href="#compiling" onclick="event.stopPropagation()" class="fa fa-anchor"></a></h3> <p>There is no need to run these Gradle tasks manually as they are called automatically by other relevant Gradle tasks.</p> <ul><li><strong><code class="hljs inline no-lang">compileJava</code></strong>: Checks whether the project has the required dependencies to compile and run the main program, and download any missing dependencies before compiling the classes. See <code class="hljs inline no-lang">build.gradle</code> → <code class="hljs inline no-lang">allprojects</code> → <code class="hljs inline no-lang">dependencies</code> → <code class="hljs inline no-lang">compile</code> for the list of dependencies required.</li> <li><strong><code class="hljs inline no-lang">compileTestJava</code></strong>: Checks whether the project has the required dependencies to perform testing, and download any missing dependencies before compiling the test classes. See <code class="hljs inline no-lang">build.gradle</code> → <code class="hljs inline no-lang">allprojects</code> → <code class="hljs inline no-lang">dependencies</code> → <code class="hljs inline no-lang">testCompile</code> for the list of dependencies required.</li></ul> <h3 id="enabling-assertions"><span id="enabling-assertions" class="anchor"></span>Enabling assertions<a href="#enabling-assertions" onclick="event.stopPropagation()" class="fa fa-anchor"></a></h3> <p>To enable assertions when executing Java code, add the following to the <code class="hljs inline no-lang">build.gradle</code> file.</p> <pre><code class="hljs groovy"><span>run {
</span><span>    enableAssertions = <span class="hljs-literal">true</span>
</span><span>}
</span></code></pre> <h2 id="managing-dependencies"><span id="managing-dependencies" class="anchor"></span>Managing dependencies<a href="#managing-dependencies" onclick="event.stopPropagation()" class="fa fa-anchor"></a></h2> <p>Gradle can automate the management of dependencies to third-party libraries. You just need to add the dependency into the <code class="hljs inline no-lang">build.gradle</code> file and Gradle will do the rest. For example, here is how the JUnit library has been added to the dependencies in the <code class="hljs inline no-lang">build.gradle</code>:</p> <pre><code class="hljs groovy"><span>dependencies {
</span><span>    testImplementation <span class="hljs-attr">group:</span> <span class="hljs-string">'org.junit.jupiter'</span>, <span class="hljs-attr">name:</span> <span class="hljs-string">'junit-jupiter-api'</span>, <span class="hljs-attr">version:</span> <span class="hljs-string">'5.5.0'</span>
</span><span>}
</span></code></pre><p>For example, to add the Natty (a third-party library used for parsing natural language dates e.g., <code class="hljs inline no-lang">today</code>), you simply have to add the following line to the <code class="hljs inline no-lang">dependencies</code> section of the <code class="hljs inline no-lang">build.gradle</code> file.</p> <pre><code class="hljs groovy"><span>compile <span class="hljs-attr">group:</span> <span class="hljs-string">'com.joestelmach'</span>, <span class="hljs-attr">name:</span> <span class="hljs-string">'natty'</span>, <span class="hljs-attr">version:</span> <span class="hljs-string">'0.6'</span>
</span></code></pre><p>Tip: Most third-party libraries specify how to add it as a Gradle dependency (<a href="https://mvnrepository.com/artifact/com.joestelmach/natty/0.6">example</a>).</p> <h2 id="resources"><span id="resources" class="anchor"></span>Resources<a href="#resources" onclick="event.stopPropagation()" class="fa fa-anchor"></a></h2> <ul><li><a href="https://docs.gradle.org/current/userguide/userguide.html">Official Gradle Documentation</a></li></ul> <hr> <p><strong>Authors:</strong></p> <ul><li>Initial Version: Jeffry Lum</li></ul> <i id="scroll-top-button" onclick="handleScrollTop()" aria-hidden="true" class="fa fa-arrow-circle-up fa-lg d-print-none"></i><p></p></div> <nav id="page-nav" class="fixed-header-padding" data-v-e8c82f88><div class="nav-component slim-scroll" data-v-e8c82f88><nav id="mb-page-nav" class="nav nav-pills flex-column my-0 small no-flex-wrap" data-v-e8c82f88><a class="nav-link py-1" href="#gradle-tutorial" data-v-e8c82f88>Gradle tutorial‎</a> <nav class="nav nav-pills flex-column my-0 nested no-flex-wrap" data-v-e8c82f88><a class="nav-link py-1" href="#basics" data-v-e8c82f88>Basics‎</a> <a class="nav-link py-1" href="#gradle-within-intellij-an-overview" data-v-e8c82f88>Gradle within Intellij: an overview‎</a> <a class="nav-link py-1" href="#adding-gradle-to-the-project" data-v-e8c82f88>Adding Gradle to the project‎</a> <a class="nav-link py-1" href="#using-gradle-in-intellij-idea" data-v-e8c82f88>Using Gradle in Intellij IDEA‎</a> <a class="nav-link py-1" href="#running-gradle-tasks" data-v-e8c82f88>Running Gradle Tasks‎</a> <a class="nav-link py-1" href="#adding-plugins" data-v-e8c82f88>Adding plugins‎</a> <a class="nav-link py-1" href="#using-gradle-to-do-some-common-project-activities" data-v-e8c82f88>Using Gradle to do some common project activities‎</a> <nav class="nav nav-pills flex-column my-0 nested no-flex-wrap" data-v-e8c82f88><a class="nav-link py-1" href="#cleaning-the-project" data-v-e8c82f88>Cleaning the project‎</a> <a class="nav-link py-1" href="#running-checkstyle" data-v-e8c82f88>Running Checkstyle‎</a> <a class="nav-link py-1" href="#running-tests" data-v-e8c82f88>Running tests‎</a> <a class="nav-link py-1" href="#creating-jar-files" data-v-e8c82f88>Creating JAR files‎</a> <a class="nav-link py-1" href="#compiling" data-v-e8c82f88>Compiling‎</a> <a class="nav-link py-1" href="#enabling-assertions" data-v-e8c82f88>Enabling assertions‎</a></nav> <a class="nav-link py-1" href="#managing-dependencies" data-v-e8c82f88>Managing dependencies‎</a> <a class="nav-link py-1" href="#resources" data-v-e8c82f88>Resources‎</a></nav> <!----></nav></div> <!----></nav></div> <footer><div class="text-center"><small>[Powered by <img src="https://markbind.org/favicon.ico" width="30"> <a href="https://markbind.org/">MarkBind 4.0.1</a> on Fri, 19 Aug 2022, 22:19:01 GMT+8]</small></div></footer></div>
</body><script src="../markbind/js/bootstrap-utility.min.js"></script>
<script>
  MarkBind.setupWithSearch()
</script>
</html>
